import 'package:ecommerce_firebase/utils/store_data.dart';import '../../../utils/all_instance.dart';import '../../../utils/export.dart';class FcmMessagingController extends GetxController {  fcmPermissionRequest() async {    FirebaseMessaging messaging = FirebaseMessaging.instance;    await messaging.requestPermission(      alert: true,      announcement: false,      badge: true,      carPlay: false,      criticalAlert: false,      provisional: false,      sound: true,    );  }  Future getInitialMessage() async {    FirebaseMessaging.instance.getInitialMessage().then((message) {      if (message != null) {        print('${message.data}');      }    });  }  Future onForegroundApp() async {    FirebaseMessaging.onMessage.listen((RemoteMessage message) {      if (message.notification != null) {        print('onForegroundApp: ${message.notification!.title}');        print('onForegroundApp: ${message.notification!.body}');      }    });  }  Future onOpenedApp() async {    FirebaseMessaging.onMessageOpenedApp.listen((RemoteMessage message) {      print('onForegroundApp: ${message.notification!.title}');      print('onForegroundApp: ${message.notification!.body}');      if (message.data['route'] != null) {}    });  }  @override  void onInit() {    fcmPermissionRequest();    getInitialMessage();    onForegroundApp();    onOpenedApp();    super.onInit();  }}