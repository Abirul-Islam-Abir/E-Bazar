import 'dart:math';import '../../../utils/export.dart';class FcmMessagingController extends GetxController {  fcmPermissionRequest() async {    FirebaseMessaging messaging = FirebaseMessaging.instance;    await messaging.requestPermission(      alert: true,      announcement: false,      badge: true,      carPlay: false,      criticalAlert: false,      provisional: false,      sound: true,    );  }  Future getInitialMessage() async {    FirebaseMessaging.instance.getInitialMessage().then((message) {      if (message != null) {        print('getInitialMessage');        NotificationService().showNotification(            '${message.notification!.title}',            '${message.notification!.body}',            '${message.notification!.android}');      }    });  }  Future onForegroundApp() async {    FirebaseMessaging.onMessage.listen((RemoteMessage message) {      if (message.notification != null) {        print('onForegroundApp');        NotificationService().showNotification(            '${message.notification!.title}',            '${message.notification!.body}',            '${message.notification!.android}');      }    });  }  Future onOpenedApp() async {    FirebaseMessaging.onMessageOpenedApp.listen((RemoteMessage message) {});  }  @override  void onInit() {    fcmPermissionRequest();    getInitialMessage();    onForegroundApp();    onOpenedApp();    super.onInit();  }}